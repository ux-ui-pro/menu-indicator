{"mappings":"AAAe;IACd,YAAY,QAAQ,EAAE,YAAY,EAAE,iBAAiB,EAAE,eAAe,CAAE;QACvE,IAAI,CAAC,MAAM,SAAS,cAAc;QAElC,IAAI,CAAC,IAAI,CAAC,KAAK;QAEf,IAAI,CAAC,WAAW,MAAM,KAAK,IAAI,CAAC,KAAK,iBAAiB,iBAAiB,EAAE;QACzE,IAAI,CAAC,eAAe,IAAI,CAAC,KAAK,cAAc;QAC5C,IAAI,CAAC,kBAAkB;QACvB,IAAI,CAAC,SAAS,IAAI,CAAC,OAAO,KAAK,IAAI;QACnC,IAAI,CAAC,YAAY,IAAI,CAAC,UAAU,KAAK,IAAI;QACzC,IAAI,CAAC,mBAAmB,IAAI,CAAC,iBAAiB,KAAK,IAAI;QACvD,IAAI,CAAC,SAAS,IAAI,CAAC,OAAO,KAAK,IAAI;QAEnC,IAAI,CAAC;QACL,IAAI,CAAC;QACL,IAAI,CAAC;IACN;IAEA,OAAO,CAAC,EAAE;QACT,MAAM,cAAE,WAAU,eAAE,YAAW,EAAE,GAAG;QACpC,IAAI,CAAC,aAAa,MAAM,UAAU,CAAC,WAAW,EAAE,WAAW,gBAAgB,EAAE,YAAY,GAAG,CAAC;IAC9F;IAEA,mBAAmB;QAClB,MAAM,aAAa,IAAI,CAAC,IAAI,cAAc,IAAI,CAAC;QAC/C,IAAI,CAAC,aAAa,MAAM,UAAU,aAAa,CAAC,WAAW,EAAE,WAAW,WAAW,eAAe,EAAE,WAAW,YAAY,GAAG,CAAC,GAAG,CAAC,kCAAkC,CAAC;IACvK;IAEA,SAAS;QACR,OAAO,iBAAiB,QAAQ,IAAI,CAAC;IACtC;IAEA,SAAS;QACR,MAAM,iBAAiB,IAAI,eAAe,IAAI,CAAC;QAC/C,eAAe,QAAQ,IAAI,CAAC;IAC7B;IAEA,YAAY;QACX,IAAI,CAAC,IAAI,iBAAiB,SAAS,IAAI,CAAC;QACxC,IAAI,CAAC,IAAI,iBAAiB,cAAc,IAAI,CAAC;QAC7C,IAAI,CAAC,SAAS,QAAQ,CAAA,OAAQ,KAAK,iBAAiB,cAAc,IAAM,IAAI,CAAC,OAAO;QAEpF,SAAS,KAAK,iBAAiB,SAAS,CAAC;YACxC,IAAI,EAAE,OAAO,YAAY,KACxB,WAAW;gBAAQ,IAAI,CAAC;YAAmB,GAAG;QAEhD;IACD;AACD","sources":["src/index.js"],"sourcesContent":["export default class MenuIndicator {\r\n\tconstructor(navClass, navItemClass, navIndicatorClass, activeItemClass) {\r\n\t\tthis.nav = document.querySelector(navClass)\r\n\r\n\t\tif (!this.nav) return\r\n\r\n\t\tthis.navItems = Array.from(this.nav?.querySelectorAll(navItemClass) || [])\r\n\t\tthis.navIndicator = this.nav?.querySelector(navIndicatorClass)\r\n\t\tthis.activeItemClass = activeItemClass\r\n\t\tthis.loaded = this.loaded.bind(this)\r\n\t\tthis.listeners = this.listeners.bind(this)\r\n\t\tthis.updateActiveItem = this.updateActiveItem.bind(this)\r\n\t\tthis.offset = this.offset.bind(this)\r\n\r\n\t\tthis.loaded()\r\n\t\tthis.resize()\r\n\t\tthis.listeners()\r\n\t}\r\n\r\n\toffset(e) {\r\n\t\tconst { offsetLeft, offsetWidth } = e\r\n\t\tthis.navIndicator.style.cssText = `--mi-left: ${offsetLeft}px; --mi-width: ${offsetWidth}px;`\r\n\t}\r\n\r\n\tupdateActiveItem() {\r\n\t\tconst activeItem = this.nav.querySelector(this.activeItemClass)\r\n\t\tthis.navIndicator.style.cssText = activeItem ? `--mi-left: ${activeItem.offsetLeft}px; --mi-width:${activeItem.offsetWidth}px;` : `--mi-left: auto; --mi-width: auto;`\r\n\t}\r\n\r\n\tloaded() {\r\n\t\twindow.addEventListener('load', this.updateActiveItem)\r\n\t}\r\n\r\n\tresize() {\r\n\t\tconst resizeObserver = new ResizeObserver(this.updateActiveItem)\r\n\t\tresizeObserver.observe(this.nav)\r\n\t}\r\n\r\n\tlisteners() {\r\n\t\tthis.nav.addEventListener('click', this.updateActiveItem)\r\n\t\tthis.nav.addEventListener('mouseleave', this.updateActiveItem)\r\n\t\tthis.navItems.forEach(item => item.addEventListener('mouseenter', () => this.offset(item)))\r\n\r\n\t\tdocument.body.addEventListener('click', (e) => {\r\n\t\t\tif (e.target.tagName === 'A') {\r\n\t\t\t\tsetTimeout(() => { this.updateActiveItem() }, 550)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n}"],"names":[],"version":3,"file":"index.module.js.map"}